<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Overview • synthesisr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">synthesisr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/overview.html">Overview</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Overview</h1>
                        <h4 data-toc-skip class="author">Martin Westgate
&amp; Eliza Grames</h4>
            
            <h4 data-toc-skip class="date">2025-02-21</h4>
      

      <div class="d-none name"><code>overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Systematic review searches include multiple databases that export
results in a variety of formats with overlap in coverage between
databases. To streamline the process of importing, assembling, and
deduplicating results, <code>synthesisr</code> recognizes bibliographic
files exported from databases commonly used for systematic reviews and
merges results into a standardized format.</p>
<p>We begin, as always, by loading the package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("synthesisr") # if needed</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://martinwestgate.com/synthesisr/">synthesisr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Loading <span style="color: #0000BB;">synthesisr</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="read-and-assemble-bibliographic-files">Read and assemble bibliographic files<a class="anchor" aria-label="anchor" href="#read-and-assemble-bibliographic-files"></a>
</h2>
<p><code>synthesisr</code> can read any BibTex or RIS formatted
bibliographic data files. It detects whether files are more bib-like or
ris-like and imports them accordingly. Note that files from some
databases may contain non-standard fields or non-standard characters
that cause import failure in rare cases; if this happens, we recommend
converting the file in open source bibliographic management software
such as Zotero.</p>
<p>In the code below, we will demonstrate how to read and assemble
bibliographic data files with example datasets included in the
<code>synthesisr</code> package. Note that if you are using the code
with your own data, you will not need to use <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code>
and instead will want to pass a character vector of the path(s) to the
file(s) you want to import. For example, if you have saved all your
search results in a directory called “search_results”, you may want to
use <code>list.files("./search_results/")</code> instead.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># system.file will look for the path to where synthesisr is installed</span></span>
<span><span class="co"># by using the example bibliographic data files, you can reproduce the vignette</span></span>
<span><span class="va">bibfiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/"</span>, package <span class="op">=</span> <span class="st">"synthesisr"</span><span class="op">)</span>,</span>
<span>  full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># now we can use read_refs to read in our bibliographic data files</span></span>
<span><span class="va">df_initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_refs.html">read_refs</a></span><span class="op">(</span><span class="va">bibfiles</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="deduplicate-bibliographic-data">Deduplicate bibliographic data<a class="anchor" aria-label="anchor" href="#deduplicate-bibliographic-data"></a>
</h2>
<p>Many journals are indexed in multiple databases, so searching across
databases will retrieve duplicates. After import,
<code>synthesisr</code> can detect duplicates and retain only unique
bibliographic records using a variety of methods such as string distance
or fuzzy matching records. A good place to start is removing articles
that have identical DOIs, because these are unique (by definition), and
while not every entry will have a DOI stored, removing them reduces the
computational time required for more sophisticated deduplication
methods.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deduplicate.html">deduplicate</a></span><span class="op">(</span><span class="va">df_initial</span><span class="op">)</span> <span class="co"># uses DOI by default</span></span></code></pre></div>
<p>In some cases, it may be useful to know which articles were
identified as duplicates so they can be manually reviewed or so that
information from two records can be merged. Using our
partially-deduplicated dataset, we check a few titles and use string
distance methods to find additional duplicate articles in the code below
and then remove them by extracting unique references. Although here we
only use one secondary deduplication method (string distance), we could
look for additional duplicates based on fuzzy matching abstracts, for
example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">possible_duplicates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_duplicates.html">find_duplicates</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">title</span>,</span>
<span>                                       to_lower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                       rm_punctuation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">manual_checks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/review_duplicates.html">review_duplicates</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">title</span>, <span class="va">possible_duplicates</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">manual_checks</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 2</span></span></span>
<span><span class="co">#&gt;   title                                                                  matches</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Comparing bird assemblages in successional black spruce stands origin…      78</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Comparing bird assemblages in successional black spruce stands origin…      78</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Composition of Bird Communities Following Stand-Replacement Fires in …      82</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Composition of bird communities following stand-replacement fires in …      82</span></span></code></pre></div>
<p>In this case, the examples look fine, so we accept them:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_unique_references.html">extract_unique_references</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">possible_duplicates</span><span class="op">)</span></span></code></pre></div>
<p>Exact string matching is a fairly coarse method, however, even when
we’ve taken some basic steps to avoid issues from differences in
capitalisation and punctuation. Having removed ‘obvious’ duplicates,
therefore, it may be wise to seek near-misses using string
distances.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">more_duplicates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_duplicates.html">find_duplicates</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">title</span>,</span>
<span>                                   method <span class="op">=</span> <span class="st">"string_osa"</span>,</span>
<span>                                   to_lower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                   rm_punctuation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/review_duplicates.html">review_duplicates</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">title</span>, <span class="va">more_duplicates</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 variables: title &lt;chr&gt;, matches &lt;dbl&gt;</span></span></span></code></pre></div>
<p>Here we see that <em>why</em> our earlier approach had some issues.
For example, one of our examples had improper spacing:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">title</span><span class="op">[</span><span class="va">more_duplicates</span> <span class="op">==</span> <span class="fl">21</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; An integrated occupancy and **space-use model** to predict abundance of</span></span>
<span><span class="co">#&gt; imperfectly detected, territorial vertebrates</span></span>
<span><span class="co">#&gt; An integrated occupancy and **space-usemodel** to predict abundance of</span></span>
<span><span class="co">#&gt; imperfectly detected, territorial vertebrates</span></span></code></pre>
<p>(emphasis added)</p>
<p>Similarly, different databases sometime add</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">title</span><span class="op">[</span><span class="va">more_duplicates</span> <span class="op">==</span> <span class="fl">140</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Black-backed **three-toed wood-pecker**, Picoides arcticus, predation on</span></span>
<span><span class="co">#&gt; Monochamus oregopensis(Coleoptera: Cerambycidae)</span></span>
<span><span class="co">#&gt; Black-backed **three-toed woodpecker**, Pieoides arcticus, predation on</span></span>
<span><span class="co">#&gt; Monochamus oregonensis (Coleoptera, Cerambycidae)</span></span></code></pre>
<p>More problematically, however, entries that are deliberately named in
a similar way are detected as duplicates in this method:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">title</span><span class="op">[</span><span class="va">more_duplicates</span> <span class="op">==</span> <span class="fl">99</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; **2006** May species count of birds</span></span>
<span><span class="co">#&gt; **2002** May species count for birds</span></span></code></pre>
<p>We can add these as exceptions manually before applying our
changes:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_duplicates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/override_duplicates.html">override_duplicates</a></span><span class="op">(</span><span class="va">more_duplicates</span>, <span class="fl">99</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in max(which(matches == overrides[i])): no non-missing arguments to</span></span>
<span><span class="co">#&gt; max; returning -Inf</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_unique_references.html">extract_unique_references</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">new_duplicates</span><span class="op">)</span></span></code></pre></div>
<p>This leaves us with 91 entries, down from the 226 returned by
<code><a href="../reference/read_refs.html">read_refs()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="write-bibliographic-files">Write bibliographic files<a class="anchor" aria-label="anchor" href="#write-bibliographic-files"></a>
</h2>
<p>To facilitate exporting results to other platforms after assembly and
deduplication, <code>synthesisr</code> can write bibliographic data to
.ris or .bib files. Optionally, <code><a href="../reference/write_refs.html">write_refs()</a></code> can write
directly to a text file stored locally.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># # synthesisr can write the full dataset to a bibliographic file</span></span>
<span><span class="co"># # but in this example, we will just write the first citation</span></span>
<span><span class="co"># # we also want it to be a nice clean bibliographic file, so we remove NA data</span></span>
<span><span class="co"># # this makes it easier to view the output when working with a single article</span></span>
<span><span class="co"># citation &lt;- df[1, !is.na(df[1,])]</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># format_citation(citation)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># write_refs(citation,</span></span>
<span><span class="co">#   format = "bib",</span></span>
<span><span class="co">#   file = FALSE</span></span>
<span><span class="co"># )</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Westgate, Eliza Grames.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
